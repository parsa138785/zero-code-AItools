# بک‌اند ابزارهای هوش مصنوعی Zero Code

این سرویس بک‌اند برای ابزارهای هوش مصنوعی Zero Code است که نقاط پایانی REST API را برای ابزارهای مختلف منابع انسانی و استخدام مبتنی بر هوش مصنوعی فراهم می‌کند.

## ویژگی‌ها

بک‌اند 14 ابزار هوش مصنوعی مختلف را ارائه می‌دهد:

1. **بهینه‌سازی عنوان شغلی** - عناوین شغلی را برای سئو بهتر و جذب کاندیداهای مناسب‌تر بهینه‌سازی می‌کند
2. **سازنده شرح شغل** - شرح شغل‌های جامع ایجاد می‌کند
3. **دستیار جستجوی شغل جهانی** - فرصت‌های شغلی را در پلتفرم‌های مختلف جستجو می‌کند
4. **موتور تطبیق شغل** - رزومه‌ها را با شرح شغل تطبیق می‌دهد
5. **دستیار چت هوشمند** - پشتیبانی هوش مصنوعی مکالمه‌ای برای پرسش‌های منابع انسانی فراهم می‌کند
6. **تولیدکننده پیام شخصی‌سازی شده** - پیام‌های شخصی‌سازی شده برای استخدام ایجاد می‌کند
7. **اتوماسیون جذب نیرو** - جستجو و غربالگری کاندیداها را خودکار می‌کند
8. **غربالگری و تحلیل رزومه** - رزومه‌ها را تحلیل و غربالگری می‌کند
9. **شبیه‌ساز مصاحبه** - سوالات مصاحبه را برای تمرین تولید می‌کند
10. **دستیار آموزش کارکنان جدید** - مواد آموزشی آنبوردینگ را ایجاد می‌کند
11. **بهینه‌ساز جلسات یک به یک** - دستور کار جلسات را بهینه‌سازی می‌کند
12. **تحلیل احساسات** - احساسات را در بازخوردها و ارتباطات تحلیل می‌کند
13. **تشخیص تعصب در استخدام** - تعصبات احتمالی را در مواد استخدام تشخیص می‌دهد
14. **دستیار بازبینی عملکرد** - در نوشتن بازبینی‌های عملکرد کمک می‌کند

## معماری

- **فریم‌ورک**: Node.js با Express
- **پایگاه داده**: PostgreSQL با کوئری‌های SQL خام
- **یکپارچه‌سازی هوش مصنوعی**: API متیس‌اِی‌آی (MetisAI)
- **اعتبارسنجی**: Joi برای اعتبارسنجی درخواست‌ها
- **CORS**: فعال شده برای درخواست‌های بین‌مبدا (cross-origin)

## راه‌اندازی

1. **نصب وابستگی‌ها**:
   ```bash
   npm install
   ```

2. **پیکربندی محیط**:
   فایل `.env.example` را به `.env` کپی کرده و پیکربندی کنید:
   ```bash
   cp .env.example .env
   ```
   
   متغیرهای زیر را به‌روزرسانی کنید:
   - `DB_HOST`, `DB_PORT`, `DB_USERNAME`, `DB_PASSWORD`, `DB_NAME` - اتصال PostgreSQL
   - `METIS_API_KEY`, `METIS_BASE_URL` - پیکربندی API متیس‌اِی‌آی

3. **راه‌اندازی پایگاه داده**:
   مهاجرت را برای ایجاد تمام جداول لازم اجرا کنید:
   ```bash
   node src/database/migrate.js
   ```

4. **راه‌اندازی سرور**:
   ```bash
   # توسعه
   npm run dev
   
   # تولید
   npm start
   ```

## نقاط پایانی API

هر ابزار هوش مصنوعی دو نقطه پایانی اصلی دارد:

### نقاط پایانی ورودی (POST)
- `/api/ai-tools/{tool-name}/input` - ارسال ورودی برای پردازش

### نقاط پایانی خروجی (GET)
- `/api/ai-tools/{tool-name}/output/{requestId}` - بازیابی نتایج پردازش شده

### ابزارهای موجود:
- `job-title-optimization`
- `job-description-builder`
- `global-job-search`
- `job-matching-engine`
- `chat-assistant`
- `personalized-message-generator`
- `recruitment-automation`
- `resume-screening`
- `interview-simulator`
- `employee-training-assistant`
- `one-on-one-optimizer`
- `sentiment-analysis`
- `bias-detector`
- `performance-review-assistant`

### بررسی سلامت
- `GET /health` - وضعیت سلامت سرور

## مثال استفاده

1. **ارسال ورودی**:
   ```bash
   curl -X POST http://localhost:3000/api/ai-tools/job-title-optimization/input \
     -H "Content-Type: application/json" \
     -d 
     '{
       "currentJobTitle": "Software Engineer",
       "industry": "Technology",
       "experienceLevel": "Mid-level",
       "locationType": "Remote",
       "keywords": "backend, API, cloud"
     }'
   ```

2. **دریافت نتایج**:
   ```bash
   curl http://localhost:3000/api/ai-tools/job-title-optimization/output/{requestId}
   ```

## شمای پایگاه داده

پایگاه داده شامل جداول ورودی و خروجی برای هر ابزار هوش مصنوعی است:
- جداول ورودی درخواست‌ها و پارامترهای کاربر را ذخیره می‌کنند
- جداول خروجی نتایج تولید شده توسط هوش مصنوعی را ذخیره می‌کنند
- تمام جداول از UUID به عنوان کلید اصلی استفاده می‌کنند
- روابط کلید خارجی ورودی‌ها را به خروجی‌ها پیوند می‌دهند

## مدیریت خطا

- اعتبارسنجی ورودی با استفاده از شمای Joi
- مدیریت خطای مناسب با کدهای وضعیت HTTP مربوطه
- مدیریت خطا و بازگشت به حالت اولیه API متیس‌اِی‌آی
- مدیریت خطای پایگاه داده و پشتیبانی از تراکنش

## توسعه

- از `npm run dev` برای توسعه با nodemon استفاده کنید
- تمام پردازش‌های هوش مصنوعی به صورت ناهمزمان در پس‌زمینه انجام می‌شود
- نتایج در پایگاه داده ذخیره شده و از طریق نقاط پایانی خروجی بازیابی می‌شوند
- CORS برای یکپارچه‌سازی فرانت‌اند فعال است

## استقرار

سرور روی `0.0.0.0` گوش می‌دهد تا دسترسی خارجی را فراهم کند و از CORS برای یکپارچه‌سازی فرانت‌اند پشتیبانی می‌کند.

